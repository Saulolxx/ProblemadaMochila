!function(e){"use strict";e.HSCore.components.HSChartPie={_baseConfig:{bounds:-100,debounce:10,rtl:!1,wrpClass:"circles-wrp",textClass:"circles-text",valueStrokeClass:"circles-valueStroke",maxValueStrokeClass:"circles-maxValueStroke",styleWrapper:!0,styleText:!0},pageCollection:e(),appearCollectionIds:[],init:function(t,i){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=i&&e.isPlainObject(i)?e.extend({},this._baseConfig,i):this._baseConfig,this.config.itemSelector=t,this.initCircles(),this.pageCollection},initCircles:function(){var t=this.pageCollection.last(),i=0,l=this;t.length&&(i=+t.attr("id").substring(t.attr("id").lastIndexOf("-")+1)),this.collection.each(function(t,a){var c=e(a),n="hs-pie-"+(i+(t+1)),s=0;c.attr("id",n),c.data("circles-scroll-animate")?(c.data("reminded-value",c.data("circles-value")||0),l.appearCollectionIds.push("#"+n)):s=c.data("circles-value")||0;var o=Circles.create({id:n,radius:c.data("circles-radius")||80,value:s,maxValue:c.data("circles-max-value")||100,width:c.data("circles-stroke-width")||10,text:function(e){return"iconic"==c.data("circles-type")?c.data("circles-icon"):e+(c.data("circles-additional-text")||"")},colors:[c.data("circles-bg-color")||"#72c02c",c.data("circles-fg-color")||"#eeeeee"],duration:c.data("circles-duration")||1e3,wrpClass:l.config.wrpClass,textClass:l.config.textClass,valueStrokeClass:l.config.valueStrokeClass,maxValueStrokeClass:l.config.maxValueStrokeClass,styleWrapper:l.config.styleWrapper,styleText:l.config.styleText});c.data("circle",o),c.find("."+l.config.textClass).css({"font-size":c.data("circles-font-size"),"font-weight":c.data("circles-font-weight"),color:c.data("circles-color")}),l.config.rtl&&c.find("svg").css("transform","matrix(-1, 0, 0, 1, 0, 0)"),l.pageCollection=l.pageCollection.add(c)}),l.appearCollectionIds.length&&l._initAppear()},_initAppear:function(){var t=this;appear({bounds:t.config.bounds,debounce:t.config.debounce,elements:function(){return document.querySelectorAll(t.appearCollectionIds.join(","))},appear:function(t){(t=e(t)).data("circle").update(t.data("reminded-value"))}})},get:function(t){return t&&e.isNumeric(t)?this.pageCollection.eq(t):this.pageCollection},getById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e):null},getCircleAPI:function(t){return t&&e.isNumeric(t)&&this.pageCollection.eq(t).length?this.pageCollection.eq(t).data("circle"):null},getCircleAPIById:function(e){return e&&this.pageCollection.filter("#"+e).length?this.pageCollection.filter("#"+e).data("circle"):null}}}(jQuery);