!function(t){"use strict";function o(o,n){return!!o.length&&(this.element=o,this.config=n,this.target=t(this.element.data("dropdown-target")),this.allInvokers=t('[data-dropdown-target="'+this.element.data("dropdown-target")+'"]'),this.toggle=function(){return this.target.length?(this.defaultState?this.show():this.hide(),this):this},this.smartPosition=function(o){o.data("baseDirection")&&o.css(o.data("baseDirection").direction,o.data("baseDirection").value),o.removeClass("u-dropdown--reverse-y");var n=t(window),e=getComputedStyle(o.get(0)),a=Math.abs(parseInt(e.left,10))<40?"left":"right",i=o.offset();"right"==a?(o.data("baseDirection")||o.data("baseDirection",{direction:"right",value:parseInt(e.right,10)}),i.left<0&&o.css("right",-1*(parseInt(o.css("right"),10)-(i.left-10)))):(o.data("baseDirection")||o.data("baseDirection",{direction:"left",value:parseInt(e.left,10)}),i.left+o.outerWidth()>n.width()&&o.css("left",parseInt(o.css("left"),10)-(i.left+o.outerWidth()+10-n.width()))),i.top+o.outerHeight()-n.scrollTop()>n.height()&&o.addClass("u-dropdown--reverse-y")},this.getOption=function(t){return this.config[t]?this.config[t]:null},!0)}function n(t,n){o.call(this,t,n)&&(Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-dropdown--hidden")}}),this.target.addClass("u-dropdown--simple"),this.hide())}function e(t,n){if(o.call(this,t,n)){var e=this;this.target.addClass("u-dropdown--css-animation u-dropdown--hidden").css("animation-duration",e.config.dropdownDuration+"ms"),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-dropdown--hidden")}}),this.target.length&&this.target.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(t){e.target.hasClass(e.config.dropdownAnimationOut)&&(e.target.removeClass(e.config.dropdownAnimationOut).addClass("u-dropdown--hidden"),e.allInvokers.length&&e.allInvokers.attr("aria-expanded","false"),e.config.afterClose.call(e.target,e.element)),e.target.hasClass(e.config.dropdownAnimationIn)&&(e.allInvokers.length&&e.allInvokers.attr("aria-expanded","true"),e.config.afterOpen.call(e.target,e.element)),t.preventDefault(),t.stopPropagation()})}}function a(t,n){o.call(this,t,n)&&(this.target.addClass("u-dropdown--jquery-slide u-dropdown--hidden").hide(),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-dropdown--hidden")}}))}t.HSCore.components.HSDropdown={_baseConfig:{dropdownEvent:"click",dropdownType:"simple",dropdownDuration:300,dropdownEasing:"linear",dropdownAnimationIn:"fadeIn",dropdownAnimationOut:"fadeOut",dropdownHideOnScroll:!0,dropdownHideOnBlur:!1,dropdownDelay:350,afterOpen:function(t){},afterClose:function(t){}},_pageCollection:t(),init:function(o,i){var r,d;if(o&&o.length)return r=this,o.each(function(o,s){var l,p=t(s);if(!p.data("HSDropDown")){switch((l=i&&t.isPlainObject(i)?t.extend(!0,{},r._baseConfig,i,p.data()):t.extend(!0,{},r._baseConfig,p.data())).dropdownType){case"css-animation":p.data("HSDropDown",new e(p,l));break;case"jquery-slide":p.data("HSDropDown",new a(p,l));break;default:p.data("HSDropDown",new n(p,l))}r._pageCollection=r._pageCollection.add(p),r._bindEvents(p,l.dropdownEvent,l.dropdownDelay);var c=t(s).data("HSDropDown");d=t(c.target).find("input, textarea").length}}),t(document).on("keyup.HSDropDown",function(o){o.keyCode&&27==o.keyCode&&r._pageCollection.each(function(o,n){var e=t(window).width(),a=Boolean(t(n).data("is-mobile-only"));a?a&&e<769&&t(n).data("HSDropDown").hide():t(n).data("HSDropDown").hide()})}),t(window).on("click",function(o){r._pageCollection.each(function(o,n){var e=t(window).width(),a=Boolean(t(n).data("is-mobile-only"));a?a&&e<769&&t(n).data("HSDropDown").hide():t(n).data("HSDropDown").hide()})}),r._pageCollection.each(function(o,n){var e=t(n).data("HSDropDown").config.dropdownTarget;t(e).on("click",function(t){t.stopPropagation()})}),t(window).on("scroll.HSDropDown",function(o){r._pageCollection.each(function(o,n){var e=t(n).data("HSDropDown");e.getOption("dropdownHideOnScroll")&&0===d?e.hide():e.getOption("dropdownHideOnScroll")&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&e.hide()})}),t(window).on("resize.HSDropDown",function(o){r._resizeTimeOutId&&clearTimeout(r._resizeTimeOutId),r._resizeTimeOutId=setTimeout(function(){r._pageCollection.each(function(o,n){var e=t(n).data("HSDropDown");e.smartPosition(e.target)})},50)}),o},_bindEvents:function(o,n,e){var a=t(o.data("dropdown-target"));"hover"==n?(o.on("mouseenter.HSDropDown",function(o){var n=t(this).data("HSDropDown");n&&(n.dropdownTimeOut&&clearTimeout(n.dropdownTimeOut),n.show())}).on("mouseleave.HSDropDown",function(o){var n=t(this).data("HSDropDown");n&&(n.dropdownTimeOut=setTimeout(function(){n.hide()},e))}),a.length&&a.on("mouseenter.HSDropDown",function(t){var n=o.data("HSDropDown");n.dropdownTimeOut&&clearTimeout(n.dropdownTimeOut),n.show()}).on("mouseleave.HSDropDown",function(t){var n=o.data("HSDropDown");n.dropdownTimeOut=setTimeout(function(){n.hide()},e)})):o.on("click.HSDropDown",function(o){var n=t(this);n.data("HSDropDown")&&(t("[data-dropdown-target].active").length&&t("[data-dropdown-target].active").data("HSDropDown").toggle(),n.data("HSDropDown").toggle(),o.stopPropagation(),o.preventDefault())})}},n.prototype.show=function(){var o=t(this)[0].config.dropdownTarget;return t('[data-dropdown-target="'+o+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-dropdown--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","true"),this.config.afterOpen.call(this.target,this.element),this},n.prototype.hide=function(){var o=t(this)[0].config.dropdownTarget;return t('[data-dropdown-target="'+o+'"]').removeClass("active"),this.target.addClass("u-dropdown--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","false"),this.config.afterClose.call(this.target,this.element),this},e.prototype.show=function(){var o=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+o+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-dropdown--hidden").removeClass(this.config.dropdownAnimationOut).addClass(this.config.dropdownAnimationIn)},e.prototype.hide=function(){var o=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+o+'"]').removeClass("active"),this.target.removeClass(this.config.dropdownAnimationIn).addClass(this.config.dropdownAnimationOut)},a.prototype.show=function(){var o=this,n=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+n+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-dropdown--hidden").stop().slideDown({duration:o.config.dropdownDuration,easing:o.config.dropdownEasing,complete:function(){o.config.afterOpen.call(o.target,o.element)}})},a.prototype.hide=function(){var o=this,n=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+n+'"]').removeClass("active"),this.target.stop().slideUp({duration:o.config.dropdownDuration,easing:o.config.dropdownEasing,complete:function(){o.config.afterClose.call(o.target,o.element),o.target.addClass("u-dropdown--hidden")}})}}(jQuery);