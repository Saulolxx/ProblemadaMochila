!function(t){"use strict";t.widget("custom.catcomplete",t.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(e,o){var i=this,n="";t.each(o,function(t,o){var a;o.category?(o.category!=n&&(e.append('<li class="ui-autocomplete-category">'+o.category+"</li>"),n=o.category),a=i._renderItemData(e,o),o.category&&(a.html(o.label),a.attr("aria-label",o.category+" : "+o.label))):a=i._renderItemData(e,o)})}}),t.HSCore.components.HSAutocomplete={_baseConfig:{minLength:2},pageCollection:t(),init:function(e,o){if(this.collection=e&&t(e).length?t(e):t(),t(e).length)return this.config=o&&t.isPlainObject(o)?t.extend({},this._baseConfig,o):this._baseConfig,this.config.itemSelector=e,this.initAutocomplete(),this.pageCollection},initAutocomplete:function(){var e=this.config,o=this.pageCollection;this.collection.each(function(i,n){var a=t(n),c=a.data("url");t.getJSON(c,function(o){a.catcomplete({delay:0,source:o,dataType:"json",minLength:e.minLength,select:function(e,o){var i=t(this);setTimeout(function(){var e=i.val();t(i).val(t(e).get(0).textContent)},1)},focus:function(e,o){var i=t(this);setTimeout(function(){var e=i.val();t(i).val(t(e).get(0).textContent)})}})}),o=o.add(a)})}}}(jQuery);