!function(t){"use strict";function o(o,e){return!!o.length&&(this.element=o,this.config=e,this.target=t(this.element.data("dropdown-target")),this.allInvokers=t('[data-dropdown-target="'+this.element.data("dropdown-target")+'"]'),this.toggle=function(){return this.target.length?(this.defaultState?this.show():this.hide(),this):this},this.smartPosition=function(o){o.data("baseDirection")&&o.css(o.data("baseDirection").direction,o.data("baseDirection").value);var e=t(window),n=getComputedStyle(o.get(0)),a=Math.abs(parseInt(n.left,10))<40?"left":"right",d=o.offset();"right"===a?(o.data("baseDirection")||o.data("baseDirection",{direction:"right",value:parseInt(n.right,10)}),d.left<0&&o.css("right",-1*(parseInt(o.css("right"),10)-(d.left-10)))):(o.data("baseDirection")||o.data("baseDirection",{direction:"left",value:parseInt(n.left,10)}),d.left+o.outerWidth()>e.width()&&o.css("left",parseInt(o.css("left"),10)-(d.left+o.outerWidth()+10-e.width()))),d.top,o.outerHeight(),e.scrollTop(),e.height()},this.getOption=function(t){return this.config[t]?this.config[t]:null},!0)}function e(t,e){o.call(this,t,e)&&(Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-dropdown--hidden")}}),this.target.addClass("u-dropdown--simple"),this.hide())}function n(t,e){if(o.call(this,t,e)){var n=this;this.target.addClass("u-dropdown--css-animation u-dropdown--hidden").css("animation-duration",n.config.dropdownDuration+"ms"),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-dropdown--hidden")}}),this.target.length&&this.target.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(t){n.target.hasClass(n.config.dropdownAnimationOut)&&(n.target.removeClass(n.config.dropdownAnimationOut).addClass("u-dropdown--hidden"),n.allInvokers.length&&n.allInvokers.attr("aria-expanded","false"),n.config.afterClose.call(n.target,n.element)),n.target.hasClass(n.config.dropdownAnimationIn)&&(n.allInvokers.length&&n.allInvokers.attr("aria-expanded","true"),n.config.afterOpen.call(n.target,n.element)),t.preventDefault(),t.stopPropagation()})}}function a(t,e){o.call(this,t,e)&&(this.target.addClass("u-dropdown--jquery-slide u-dropdown--hidden").hide(),Object.defineProperty(this,"defaultState",{get:function(){return this.target.hasClass("u-dropdown--hidden")}}))}t.HSCore.components.HSDropdown={_baseConfig:{dropdownEvent:"click",dropdownType:"simple",dropdownDuration:300,dropdownEasing:"linear",dropdownAnimationIn:"fadeIn",dropdownAnimationOut:"fadeOut",dropdownHideOnScroll:!0,dropdownHideOnBlur:!1,dropdownDelay:350,dropdownOpenedElement:"init",afterOpen:function(t){},beforeClose:function(t){},afterClose:function(t){}},_pageCollection:t(),init:function(o,d){var i,r;if(o&&o.length)return i=this,o.each(function(o,s){var l,p=t(s);if(!p.data("HSDropdown")){switch((l=d&&t.isPlainObject(d)?t.extend(!0,{},i._baseConfig,d,p.data()):t.extend(!0,{},i._baseConfig,p.data())).dropdownType){case"css-animation":p.data("HSDropdown",new n(p,l));break;case"jquery-slide":p.data("HSDropdown",new a(p,l));break;default:p.data("HSDropdown",new e(p,l))}i._pageCollection=i._pageCollection.add(p),i._bindEvents(p,l.dropdownEvent,l.dropdownDelay);var h=t(s).data("HSDropdown");r=t(h.target).find("input, textarea").length,t(h.target).find("[data-dropdown-target]").length&&p.addClass("target-of-invoker-has-dropdowns")}}),t(document).on("click touchstart","body",function(o){o.target.id!=i._baseConfig.dropdownOpenedElement&&(t(o.target).closest("#"+i._baseConfig.dropdownOpenedElement).length||i._pageCollection.each(function(o,e){var n=window.innerWidth,a=Boolean(t(e).data("is-mobile-only"));a?a&&n<769&&t(e).data("HSDropdown").hide():t(e).data("HSDropdown").hide(),t(e).data("HSDropdown").config.beforeClose.call(i.target,i.element)}))}),t(window).on("scroll.HSDropdown",function(){i._pageCollection.each(function(o,e){var n=t(e).data("HSDropdown");n.getOption("dropdownHideOnScroll")&&0===r?n.hide():n.getOption("dropdownHideOnScroll")&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&n.hide()})}),t(window).on("resize.HSDropdown",function(){i._resizeTimeOutId&&clearTimeout(i._resizeTimeOutId),i._resizeTimeOutId=setTimeout(function(){i._pageCollection.each(function(o,e){var n=t(e).data("HSDropdown");n.smartPosition(n.target)})},50)}),t(document).on("keydown.HSDropdown",function(o){t("body").hasClass("u-dropdown-opened")&&(o.keyCode&&38===o.keyCode||o.keyCode&&40===o.keyCode)&&o.preventDefault()}),o},_bindEvents:function(o,e,n){var a=this,d=t(o.data("dropdown-target"));"hover"!==e||"ontouchstart"in window?(o.on("click.HSDropdown",function(o){var e=t(this),n=t("[data-dropdown-target].active:not(.target-of-invoker-has-dropdowns)"),d=t("[data-dropdown-target].active.target-of-invoker-has-dropdowns");a._baseConfig.dropdownOpenedElement=e.data("HSDropdown").target[0].id,e.data("HSDropdown")&&(e.hasClass("target-of-invoker-has-dropdowns")?d.length&&d.data("HSDropdown").toggle():n.length&&n.data("HSDropdown").toggle(),e.data("HSDropdown").toggle(),o.stopPropagation(),o.preventDefault())}),Boolean(o.data("dropdown-target-is-menu"))&&t(o.data("dropdown-target")).children().on("click",function(){o.data("HSDropdown").toggle()})):(o.on("mouseenter.HSDropdown",function(){var o=t(this).data("HSDropdown");o&&(o.dropdownTimeOut&&clearTimeout(o.dropdownTimeOut),o.show(),t("body").addClass("u-dropdown-opened"))}).on("mouseleave.HSDropdown",function(){var o=t(this).data("HSDropdown");o&&(o.dropdownTimeOut=setTimeout(function(){o.hide(),t("body").removeClass("u-dropdown-opened")},n))}),d.length&&d.on("mouseenter.HSDropdown",function(){var t=o.data("HSDropdown");t.dropdownTimeOut&&clearTimeout(t.dropdownTimeOut),t.show()}).on("mouseleave.HSDropdown",function(){var t=o.data("HSDropdown");t.dropdownTimeOut=setTimeout(function(){t.hide()},n)}))}},e.prototype.show=function(){var o=t(this)[0].config.dropdownTarget;return t('[data-dropdown-target="'+o+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-dropdown--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","true"),this.config.afterOpen.call(this.target,this.element),this},e.prototype.hide=function(){var o=t(this)[0].config.dropdownTarget;return t('[data-dropdown-target="'+o+'"]').removeClass("active"),this.target.addClass("u-dropdown--hidden"),this.allInvokers.length&&this.allInvokers.attr("aria-expanded","false"),this.config.afterClose.call(this.target,this.element),this},n.prototype.show=function(){var o=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+o+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-dropdown--hidden").removeClass(this.config.dropdownAnimationOut).addClass(this.config.dropdownAnimationIn)},n.prototype.hide=function(){var o=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+o+'"]').removeClass("active"),this.target.removeClass(this.config.dropdownAnimationIn).addClass(this.config.dropdownAnimationOut)},a.prototype.show=function(){var o=this,e=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+e+'"]').addClass("active"),this.smartPosition(this.target),this.target.removeClass("u-dropdown--hidden").stop().slideDown({duration:o.config.dropdownDuration,easing:o.config.dropdownEasing,complete:function(){o.config.afterOpen.call(o.target,o.element)}})},a.prototype.hide=function(){var o=this,e=t(this)[0].config.dropdownTarget;t('[data-dropdown-target="'+e+'"]').removeClass("active"),this.target.slideUp({duration:o.config.dropdownDuration,easing:o.config.dropdownEasing,complete:function(){o.config.afterClose.call(o.target,o.element),o.target.addClass("u-dropdown--hidden")}})}}(jQuery);