!function(t){"use strict";function i(i,n){this.element=i,this.body=t("body"),this.config=n,this.reinit=function(){this.destroy().init()}}function n(t,n){var e=this;i.call(this,t,n),Object.defineProperties(this,{overlayClasses:{get:function(){return"u-main-nav__overlay "+e.config.navigationOverlayClasses}},bodyClasses:{get:function(){return"u-main-nav--overlay-"+e.config.navigationPosition}},isOpened:{get:function(){return e.body.hasClass(e.config.activeClass)}}})}function e(t,n){var e=this;i.call(this,t,n),Object.defineProperties(this,{overlayClasses:{get:function(){return"u-main-nav__overlay "+e.config.navigationOverlayClasses}},bodyClasses:{get:function(){return"u-main-nav--push-"+e.config.navigationPosition}},isOpened:{get:function(){return e.body.hasClass(e.config.activeClass)}}})}t.HSCore.components.HSNavigation={_baseConfig:{navigationOverlayClasses:"",navigationInitClasses:"",navigationInitBodyClasses:"",navigationPosition:"right",activeClass:"u-main-nav--overlay-opened",navigationBreakpoint:768,breakpointsMap:{sm:576,md:768,lg:992,xl:1200},afterOpen:function(){},afterClose:function(){}},_pageCollection:t(),init:function(i,n){var e=this,o=t(window);return i&&i.length?(n=n&&t.isPlainObject(n)?n:{},o.on("resize.HSNavigation",function(i){e.resizeTimeoutId&&clearTimeout(e.resizeTimeoutId),e.resizeTimeoutId=setTimeout(function(){e._pageCollection.each(function(i,n){var e=t(n).data("HSNavigation");o.width()>e.config.breakpointsMap[e.config.navigationBreakpoint]&&e.isInitialized()?e.destroy():o.width()<=e.config.breakpointsMap[e.config.navigationBreakpoint]&&!e.isInitialized()&&e.init()})},50)}),i.each(function(i,o){var s=t(o),a=t.extend(!0,{},e._baseConfig,n,s.data());s.data("HSNavigation")||(s.data("HSNavigation",e._factoryMethod(s,a)),e._pageCollection=e._pageCollection.add(s))}),e._pageCollection.each(function(i,n){var e=t(n).data("HSNavigation");o.width()>e.config.breakpointsMap[e.config.navigationBreakpoint]?e.destroy():o.width()<=e.config.breakpointsMap[e.config.navigationBreakpoint]&&e.init()}),i):t()},_factoryMethod:function(t,i){return t.filter('[class*="u-main-nav--overlay"]').length?new n(t,i):t.filter('[class*="u-main-nav--push"]').length?new e(t,i):void 0}},n.prototype.init=function(){var i=this;this.overlay=t("<div></div>",{class:i.overlayClasses}),t.HSCore.components.HSScrollBar&&setTimeout(function(){t.HSCore.components.HSScrollBar.init(i.element.find(".u-main-nav__list-wrapper"))},10),this.toggler=t('[data-target="#'+this.element.attr("id")+'"]'),this.toggler&&this.toggler.length&&this.toggler.css("display","block"),this.body.addClass(this.bodyClasses),this.element.addClass("u-main-nav--overlay").append(this.overlay),setTimeout(function(){i.element.addClass(i.config.navigationInitClasses),i.body.addClass(i.config.navigationInitBodyClasses),i.transitionDuration=parseFloat(getComputedStyle(i.element.get(0)).transitionDuration,10),i.transitionDuration>0&&i.element.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){i.isOpened?i.config.afterOpen.call(i.element,i.overlay):i.isOpened||i.config.afterClose.call(i.element,i.overlay),t.stopPropagation(),t.preventDefault()})},50),this._bindEvents(),this.isInit=!0},n.prototype.destroy=function(){var i=this;this.overlay&&this.overlay.remove(),this.toggler&&this.toggler.length&&this.toggler.hide(),t.HSCore.components.HSScrollBar&&setTimeout(function(){t.HSCore.components.HSScrollBar.destroy(i.element.find(".u-main-nav__list-wrapper"))},10),setTimeout(function(){i.transitionDuration&&i.transitionDuration>0&&i.element.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")},50),this.body.removeClass(this.bodyClasses),this.element.removeClass("u-main-nav--overlay").removeClass(this.config.navigationInitClasses),this.body.removeClass(this.bodyClasses).removeClass(this.config.navigationInitBodyClasses),this._unbindEvents(),this.isInit=!1},n.prototype._bindEvents=function(){var i=this;this.toggler&&this.toggler.length&&this.toggler.on("click.HSNavigation",function(t){i.isOpened?i.close():i.open(),t.preventDefault()}),this.overlay.on("click.HSNavigation",function(t){i.close()}),t(document).on("keyup.HSNavigation",function(t){27==t.keyCode&&i.close()})},n.prototype._unbindEvents=function(){this.toggler&&this.toggler.length&&this.toggler.off("click.HSNavigation"),this.overlay&&this.overlay.length&&this.overlay.off("click.HSNavigation"),t(document).off("keyup.HSNavigation")},n.prototype.open=function(){this.body.addClass(this.config.activeClass),void 0!==this.transitionDuration&&0==this.transitionDuration&&this.config.afterOpen.call(this.element,this.overlay)},n.prototype.close=function(){var i=this,n=i.toggler&&i.toggler.length?i.toggler.find(".is-active"):t();n.length&&n.removeClass("is-active"),i.body.removeClass(i.config.activeClass),i.element.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){i.toggler.attr("aria-expanded",!1),i.element.removeClass("collapse show")})},n.prototype.isInitialized=function(){return this.isInit},e.prototype.init=function(){var i=this;this.overlay=t("<div></div>",{class:i.overlayClasses}),t.HSCore.components.HSScrollBar&&setTimeout(function(){t.HSCore.components.HSScrollBar.init(i.element.find(".u-main-nav__list-wrapper"))},10),this.toggler=t('[data-target="#'+this.element.attr("id")+'"]'),this.toggler&&this.toggler.length&&this.toggler.css("display","block"),this.body.addClass(this.bodyClasses),this.element.addClass("u-main-nav--push").append(this.overlay),setTimeout(function(){i.element.addClass(i.config.navigationInitClasses),i.body.addClass(i.config.navigationInitBodyClasses),i.transitionDuration=parseFloat(getComputedStyle(i.element.get(0)).transitionDuration,10),i.transitionDuration>0&&i.element.on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(t){i.isOpened?i.config.afterOpen.call(i.element,i.overlay):i.isOpened||i.config.afterClose.call(i.element,i.overlay),t.stopPropagation(),t.preventDefault()})},50),this._bindEvents(),this.isInit=!0},e.prototype.destroy=function(){var i=this;this.overlay&&this.overlay.remove(),this.toggler&&this.toggler.length&&this.toggler.hide(),t.HSCore.components.HSScrollBar&&setTimeout(function(){t.HSCore.components.HSScrollBar.destroy(i.element.find(".u-main-nav__list-wrapper"))},10),setTimeout(function(){i.transitionDuration&&i.transitionDuration>0&&i.element.off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")},50),this.body.removeClass(this.bodyClasses).removeClass(this.config.navigationInitBodyClasses),this.element.removeClass("u-main-nav--push").removeClass(this.config.navigationInitClasses),this._unbindEvents(),this.isInit=!1},e.prototype._bindEvents=function(){var i=this;this.toggler&&this.toggler.length&&this.toggler.on("click.HSNavigation",function(t){i.isOpened?i.close():i.open(),t.preventDefault()}),this.overlay.on("click.HSNavigation",function(t){i.close()}),t(document).on("keyup.HSNavigation",function(t){27==t.keyCode&&i.close()})},e.prototype._unbindEvents=function(){this.toggler&&this.toggler.length&&this.toggler.off("click.HSNavigation"),this.overlay&&this.overlay.length&&this.overlay.off("click.HSNavigation"),t(document).off("keyup.HSNavigation")},e.prototype.open=function(){this.body.addClass(this.config.activeClass),void 0!==this.transitionDuration&&0==this.transitionDuration&&this.config.afterOpen.call(this.element,this.overlay)},e.prototype.close=function(){var i=this.toggler&&this.toggler.length?this.toggler.find(".is-active"):t();i.length&&i.removeClass("is-active"),this.body.removeClass(this.config.activeClass),void 0!==this.transitionDuration&&0==this.transitionDuration&&this.config.afterClose.call(this.element,this.overlay)},e.prototype.isInitialized=function(){return this.isInit}}(jQuery);