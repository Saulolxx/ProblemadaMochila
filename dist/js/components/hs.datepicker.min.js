!function(e){"use strict";e.HSCore.components.HSDatepicker={_baseConfig:{dateFormat:"dd.mm.yy",dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],prevText:'<i class="fa fa-angle-left"></i>',nextText:'<i class="fa fa-angle-right"></i>'},pageCollection:e(),init:function(t,a){if(this.collection=t&&e(t).length?e(t):e(),e(t).length)return this.config=a&&e.isPlainObject(a)?e.extend({},this._baseConfig,a):this._baseConfig,this.config.itemSelector=t,this.initDatepicker(),this.pageCollection},initDatepicker:function(){var t=this,a=t.config,n=t.pageCollection;this.collection.each(function(i,o){var r,s,c=e(o),d=c.data("to"),l=c.data("type");if("one-field-range"==l)var h=c.datepicker({dateFormat:a.dateFormat,defaultDate:"+1w",dayNamesMin:a.dayNamesMin,numberOfMonths:1,showOtherMonths:!0,prevText:a.prevText,nextText:a.nextText,beforeShow:t.datepickerCustomClass,onSelect:function(e,t){console.log(t)}}).on("change",function(){var e=h.datepicker("getDate");null==r?r=e:e<r&&(r=e),null==s&&e>r?s=e:e>s&&(s=e)});else if("range"==l)var f=c.datepicker({dateFormat:a.dateFormat,defaultDate:"+1w",dayNamesMin:a.dayNamesMin,numberOfMonths:1,showOtherMonths:!0,prevText:a.prevText,nextText:a.nextText,beforeShow:t.datepickerCustomClass}).on("change",function(){p.datepicker("option","minDate",t.getDate(this))}),p=e("#"+d).datepicker({dateFormat:a.dateFormat,defaultDate:"+1w",dayNamesMin:a.dayNamesMin,numberOfMonths:1,showOtherMonths:!0,prevText:a.prevText,nextText:a.nextText,beforeShow:t.datepickerCustomClass}).on("change",function(){f.datepicker("option","maxDate",t.getDate(this))});else c.datepicker({dateFormat:a.dateFormat,dayNamesMin:a.dayNamesMin,showOtherMonths:!0,prevText:a.prevText,nextText:a.nextText,beforeShow:t.datepickerCustomClass});n=n.add(c)})},datepickerCustomClass:function(t,a){var n,i,o;for(n=a.input[0].className.split(" "),o=0;n.length>o;o++)"u-date"==n[o].substring(0,6)&&(i=n[o]);e("#ui-datepicker-div").addClass(i)},getDate:function(t){var a,n=this.config;try{a=e.datepicker.parseDate(n.dateFormat,t.value)}catch(e){a=null}return a}}}(jQuery);