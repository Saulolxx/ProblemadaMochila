!function(e){"use strict";function t(t,n){if(t&&t.length&&n&&e.isPlainObject(n)){var i=this;this.element=t,this.config=n,this.defaultState=!0,this.toggler=this.element.find(this.config.togglerSelector),this.toggler.length&&this.toggler.on("click.HSSmartMenu",function(e){i.element.hasClass(i.config.menuToggleClass)?i.hideMenu():i.openMenu(),e.preventDefault()})}}e.HSCore.components.HSSmartMenu={_baseConfig:{fixMoment:300,togglerSelector:".u-smart-nav__toggler",navbarSelector:".navbar",menuToggleClass:"u-smart-nav--opened",menuVisibleClass:"u-smart-nav--shown",afterOpen:function(){},afterClose:function(){}},_pageCollection:e(),init:function(n,i){if(!n||!n.length)return e();var o=this;return i=i&&e.isPlainObject(i)?e.extend(!0,{},this._baseConfig,i):this._baseConfig,this.eventInitalized||(e(window).on("scroll.HSSmartMenu",function(){if(e(document).height()>e(window).height()){var t=e(this);o._pageCollection.each(function(n,i){var o=e(i).data("HSSmartMenu");o&&(t.scrollTop()>=o.getFixMoment()&&o.isDefaultState()?o.show():t.scrollTop()<o.getFixMoment()&&!o.isDefaultState()&&o.hide())})}}),this.eventInitalized=!0),n.each(function(n,a){var s=e(a);s.data("HSSmartMenu")||(s.data("HSSmartMenu",new t(s,e.extend(i,s.data()))),o._pageCollection=o._pageCollection.add(s))}),e(window).trigger("scroll.HSSmartMenu"),e(document).height()<=e(window).height()&&o._pageCollection.each(function(t,n){var i=e(n).data("HSSmartMenu");i&&i.isDefaultState()&&i.show()}),e(document).on("keyup.HSSmartMenu",function(t){if(27!=t.keyCode)return!1;o._pageCollection.each(function(t,n){var i=e(n).data("HSSmartMenu");i.toggler.length&&i.toggler.find(".is-active").length&&i.toggler.find(".is-active").removeClass("is-active"),i.hideMenu()})}),n}},t.prototype.openMenu=function(){var t=this.toggler?this.toggler.find(".is-active"):e();this.element.addClass(this.config.menuToggleClass),this.toggler&&t.length&&!t.hasClass("is-active")&&t.addClass("is-active")},t.prototype.hideMenu=function(){this.element.removeClass(this.config.menuToggleClass)},t.prototype.show=function(){return this.element.addClass(this.config.menuVisibleClass),this.defaultState=!1,this},t.prototype.hide=function(){return this.element.removeClass(this.config.menuVisibleClass),this.defaultState=!0,this},t.prototype.isDefaultState=function(){return this.defaultState},t.prototype.getFixMoment=function(){return this.config.fixMoment}}(jQuery);